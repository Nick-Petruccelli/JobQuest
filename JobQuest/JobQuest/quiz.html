<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./images/PenguinLogo.png">
    <title>JobQuest - Computer Science Quiz</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class = "header-left">
            <img src="./images/PenguinLogo.png" alt="Logo" id="header-image">
            <h1>JobQuest</h1>
        </div>
        <div id="header-right">
            <button id="login-btn">Login</button>
            <div id="profile-container" style="display:none;">
                <button id="profile-btn">My Profile</button>
                <button id="logout-btn">Logout</button>
            </div>
        </div>
    </header>

    <main>
        <h2>Find Your Ideal Computer Science Field</h2>
        <form id="quiz-form">
            <label>1. Do you enjoy solving logical problems?</label><br>
            <input type="radio" name="q1" value="Yes"> Yes<br>
            <input type="radio" name="q1" value="No"> No<br>

            <label>2. Are you more interested in hardware or software?</label><br>
            <input type="radio" name="q2" value="Hardware"> Hardware<br>
            <input type="radio" name="q2" value="Software"> Software<br>

            <label>3. Do you prefer working on individual projects or collaborating in a team?</label><br>
            <input type="radio" name="q3" value="Individual"> Individual<br>
            <input type="radio" name="q3" value="Team"> Team<br>

            <label>4. How comfortable are you with mathematics?</label><br>
            <input type="radio" name="q4" value="Very Comfortable"> Very Comfortable<br>
            <input type="radio" name="q4" value="Somewhat Comfortable"> Somewhat Comfortable<br>
            <input type="radio" name="q4" value="Not Comfortable"> Not Comfortable<br>

            <label>5. Do you prefer theoretical concepts or practical applications?</label><br>
            <input type="radio" name="q5" value="Theoretical"> Theoretical<br>
            <input type="radio" name="q5" value="Practical"> Practical<br>

            <button type="submit">Submit Quiz</button>
        </form>

        <div id="result"></div>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const header = document.querySelector("header");

            // Clear header content and set up elements with "My Profile" above the login/logout button
            header.innerHTML = `
                <h1><a href="home.html" id="title-link">JobQuest</a></h1>
                <div id="header-buttons" style="display: flex; flex-direction: column; align-items: flex-end;">
                    <button id="profile-btn" style="display: none; margin-bottom: 5px;">My Profile</button>
                    <button id="auth-btn">Login</button>
                </div>
            `;

            // Determine login state
            const loggedInUser = localStorage.getItem('loggedInUser');

            // Show appropriate button based on login status
            const profileBtn = document.getElementById("profile-btn");
            const authBtn = document.getElementById("auth-btn");

            if (loggedInUser) {
                profileBtn.style.display = "inline"; // Show 'My Profile' if logged in
                authBtn.innerText = "Logout"; // Change to 'Logout' if logged in
                profileBtn.addEventListener("click", () => window.location.href = "profile.html");
                authBtn.addEventListener("click", () => {
                    localStorage.removeItem("loggedInUser"); // Log out
                    window.location.reload(); // Refresh to update header
                });
            } else {
                profileBtn.style.display = "none"; // Hide 'My Profile' if logged out
                authBtn.innerText = "Login"; // Show 'Login' if logged out
                authBtn.addEventListener("click", () => window.location.href = "login.html");
            }
        });
    </script>

    <script src="quiz.js"></script>
</body>
</html>